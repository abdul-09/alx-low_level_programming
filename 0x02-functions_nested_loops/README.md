Tackling nested loops and functions
